/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
"use strict";(this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks=this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks||[]).push([[203],{8e3:(e,t,n)=>{n.r(t),n.d(t,{Header:()=>p,default:()=>_})
;var i=n(5032),s=n.n(i),l=n(4434),o=n.n(l),r=n(5082),a=n(7143),u=n(664);const c={contentEditable:void 0,underline:!1,level:null,content:null,children:null
},h=r.Z.css("header"),d=r.Z.name("Header"),p=o().Common.VisualComponent.create({mixins:[o().Common.BaseMixin],statics:{tagName:d,classNames:{main:h,
levelDropdown:()=>a.Z.css("\n           &.uu5-bricks-editable-toolbar-dropdown {\n             width: 148px;\n           }\n         ")},lsi:()=>({...u.Z.header,...u.Z.common})},propTypes:{
component:o().PropTypes.object.isRequired},getDefaultProps:()=>({component:null}),getInitialState(){this._contentProp="children";let e,t=this.props.component.getEditablePropsValues(Object.keys(c))
;return t.content?(e=t.content,this._contentProp="content"):t.children&&(e=t.children),{...t,content:e}},getPropsToSave(){return this._getPropsToSave()},_onEndEditation(){
this.props.component.endEditation(this._getPropsToSave())},_getPropsToSave(e=this.state){let{children:t,content:n,...i}=e;for(let e in c)void 0!==i[e]&&i[e]===c[e]&&(i[e]=void 0)
;return i[this._contentProp]=n,i},_changeLevel(e){this.setState({level:e})},_toggleUnderline(){this.setState((e=>({underline:!e.underline})))},_changeContent(e){this.setState({content:e.value})},
_getToolbarItems(){let e=[1,2,3,4,5,6].map((e=>({content:`${this.getLsiValue("level")} ${e}`,value:`${e}`})));return e.unshift({content:this.getLsiValue("defaultLevel"),value:null}),[{type:"button",
props:()=>({pressed:this.state.underline,onClick:this._toggleUnderline,tooltip:this.getLsiValue("underlineTooltip"),icon:"mdi-format-underline"})},{type:"dropdown",props:()=>{
let t=this.state.level?`${this.getLsiValue("level")} ${this.state.level}`:`${this.getLsiValue("defaultLevel")}`;return{value:this.state.level,label:t,tooltip:this.getLsiValue("levelTooltip"),items:e,
onClick:this._changeLevel}}}]},render(){return Uu5g05.Utils.Element.create(o().BricksEditable.Toolbar,s()({},this.getMainPropsToPass(),{ref_:this._registerToolbar,onClose:this._onEndEditation,
items:this._getToolbarItems()}),Uu5g05.Utils.Element.create(o().BricksEditable.Input,{value:this.state.content||"",placeholder:this.getLsi("headerPlaceholder"),onChange:this._changeContent
},(({children:e})=>Uu5g05.Utils.Element.create(o().Bricks.Header,{underline:this.state.underline,level:this.state.level,parent:this.props.parent},e))))}}),_=p}}]);