/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
"use strict";(this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks=this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks||[]).push([[22],{6765:(e,t,s)=>{s.d(t,{Hd:()=>h,XQ:()=>C,aO:()=>P,al:()=>f,kb:()=>Z,
mi:()=>y,ni:()=>E,xf:()=>b,xl:()=>L,xy:()=>v});var n=s(4434),i=s.n(n),o=s(5082),l=s(4415),a=s(2868),r=s(967),m=s(664),p=s(7143);let c,u,d=e=>e;const g={"1:1":["s-6","s-6"],"1:2":["m-4","m-8"],
"2:1":["m-8","m-4"],"1:1:1":["s-6 m-4","s-6 m-4","m-4"],"1:1:1:1":["s-6 m-3","s-6 m-3","s-6 m-3","s-6 m-3"]},h=i().Common.VisualComponent.create({mixins:[i().Common.BaseMixin],statics:{
tagName:"PresetEditComponent",classNames:{main:o.Z.css("row-properties-category")},lsi:()=>m.Z.row},propTypes:{componentProps:i().PropTypes.object,items:i().PropTypes.arrayOf(i().PropTypes.object),
onChangeProps:i().PropTypes.func,onChangeItems:i().PropTypes.func},getDefaultProps:()=>({componentProps:void 0,items:void 0,onChangeProps:void 0,onChangeItems:void 0}),getInitialState(){
return this._pendingOnChange,{confirmModalOpen:!1}},_onConfirmModalRegister(e){e.open()},_onRefuse(){this._pendingOnChange=void 0,this.setState({confirmModalOpen:!1})},_onConfirm(){this.setState({
confirmModalOpen:!1},this._changePreset)},_adjustItemsColWidth(e,t){if(e.length===t.length)return e.map(((e,s)=>({...e,props:{...e.props,colWidth:t[s]}})))
;this.showError("ColWidth couldn't be correctly adjusted because the number of items doesnt match the number of preset's items.")},_onChange({value:e}){
let t="safe",s=Array.isArray(this.props.items)?[...this.props.items]:[],n=g[e];if(n.length<s.length)t="destructing",
s.splice(n.length,s.length);else if(n.length>s.length)for(t="adjusting";n.length>s.length;)s.push({});s=this._adjustItemsColWidth(s,n),
"safe"===t||"adjusting"===t?this._changePreset(s):"destructing"===t&&(this._pendingOnChange=s,this._openConfirmModal())},_openConfirmModal(){this.setState({confirmModalOpen:!0})},_getConfirmModal(){
return Uu5g05.Utils.Element.create(l.Z,{onRefuse:this._onRefuse,onConfirm:this._onConfirm,content:this.getLsiComponent("layoutConfirmModalContent"),ref_:this._onConfirmModalRegister,size:"m",
header:this.getLsiComponent("layoutConfirmModalHeader"),confirmButtonProps:{content:this.getLsiComponent("layoutConfirmModalConfirm")},refuseButtonProps:{
content:this.getLsiComponent("layoutConfirmModalCancel")}})},_changePreset(e){e=e||this._pendingOnChange||null,this.props.onChangeItems(e),this._pendingOnChange=void 0},_getPresetValue(){let e=null
;return Array.isArray(this.props.items)&&this.props.items.length&&!this.props.items.find((e=>"UU5.Bricks.Column"!==e.tagName))&&(e=Object.keys(g).find((e=>{let t=g[e]
;if(t.length===this.props.items.length){return!t.find(((e,t)=>{let s=this.props.items[t].props.colWidth;if(s){
return i().Common.Tools.buildColWidthClassName(s)!==i().Common.Tools.buildColWidthClassName(e)}return!0}))}return!1}))),e},render(){
return Uu5g05.Utils.Element.create(Uu5g05.Fragment,null,Uu5g05.Utils.Element.create(i().Forms.Select,{label:this.getLsiComponent("columnsWidthPresetLabel"),value:this._getPresetValue()||"Custom",
onChange:this._onChange,labelColWidth:"xs-12",inputColWidth:"x-12",labelAlignment:"left"},Uu5g05.Utils.Element.create(i().Forms.Select.Option,{value:"Custom",hidden:!0
}),Object.keys(g).map(((e,t)=>Uu5g05.Utils.Element.create(i().Forms.Select.Option,{value:e,key:t})))),this.state.confirmModalOpen?this._getConfirmModal():null)}}),b=i().Common.VisualComponent.create({
mixins:[i().Common.BaseMixin],statics:{tagName:"ColWidthEditComponent",classNames:{main:o.Z.css("colwidth-edit-component")},lsi:()=>m.Z.row},propTypes:{componentProps:i().PropTypes.object,
items:i().PropTypes.arrayOf(i().PropTypes.object),onChangeProps:i().PropTypes.func,onChangeItems:i().PropTypes.func,editedItemId:i().PropTypes.string},getDefaultProps:()=>({componentProps:void 0,
items:void 0,onChangeProps:void 0,onChangeItems:void 0,editedItemId:void 0}),_isColWidth(e){let t=!0;if("string"==typeof e){
t=!e.trim().split(i().Common.REGEXP.splitByWhiteSpace).find((e=>!e.match(i().Common.REGEXP.columnRegexp)))}else t=!1;return t},_onChange({value:e}){
let t=[...this.props.items],s=t.findIndex((e=>e.id===this.props.editedItemId));t=t.map((e=>({id:e.id}))),this._isColWidth(e)?t[s].props={colWidth:e,width:null}:t[s].props={width:e,colWidth:null},
this.props.onChangeItems(t)},render(){let e,t=!1;if(Array.isArray(this.props.items))if(this.props.items.length){let s=this.props.items.findIndex((e=>e.id===this.props.editedItemId))
;e=this.props.items[s].props.width,e||(e=this.props.items[s].props.colWidth,t=!0)}else e="";else e=this.props.componentProps.width,e||(e=this.props.componentProps.colWidth,t=!0)
;return e&&t&&"object"==typeof e&&(e=i().Common.Tools.buildColWidthClassName(e).replace(/uu5-col-/g,"").replace(/xs|s|m|l|xl/g,(e=>`${e}-`))),Uu5g05.Utils.Element.create(i().Forms.Text,{
label:this.getLsiComponent("colWidthLabel"),message:this.getLsiComponent("colWidthTooltip"),value:e,onBlur:this._onChange})}}),v=()=>Uu5g05.Utils.Element.create("div",{className:U.main
},Uu5g05.Utils.Element.create(a.Z,{icon:"mdi-information",className:U.icon}),Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.common.itemInfo})),U={main:p.Z.css(c||(c=d`
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    color: #303030;
  `)),icon:p.Z.css(u||(u=d`
    color: rgba(0, 0, 0, 0.54);
    font-size: 56px;
  `))},C=({componentProps:e,onChangeProps:t,errors:s})=>Uu5g05.Utils.Element.create(i().Forms.Number,{min:32,step:32,suffix:"px",valueType:"number",label:Uu5g05.Utils.Element.create(r.Z,{
lsi:m.Z.qRCode.sizeLabel}),value:e.size,feedback:s&&s.size?"error":void 0,onChange:({value:e})=>t({size:e},{size:e<32||isNaN(e)}),onBlur:({value:e})=>t({size:e},{size:e<32||isNaN(e)})
}),f=({componentProps:e,onChangeProps:t})=>Uu5g05.Utils.Element.create(i().Forms.SwitchSelector,{items:[{content:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.common.valueFalse}),value:!1},{
content:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.common.valueTrue}),value:!0}],value:e.inline,label:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.card.inlineLabel}),onChange:({value:s})=>{t({inline:s,
width:s?e.width:null,minWidth:s?e.minWidth:null})}}),Z=({componentProps:e,onChangeProps:t})=>Uu5g05.Utils.Element.create(i().Forms.SwitchSelector,{items:[{content:Uu5g05.Utils.Element.create(r.Z,{
lsi:m.Z.progressBar.stripedValueFalse}),value:!1},{content:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.progressBar.stripedValueTrue}),value:!0}],value:e.striped,label:Uu5g05.Utils.Element.create(r.Z,{
lsi:m.Z.progressBar.stripedLabel}),onChange:({value:s})=>{t({striped:s,animated:!!s&&e.animated})}}),E=({onChangeItems:e,items:t,editedItemId:s})=>{let n=t.findIndex((e=>e.id===s)),o=t[n]
;return Uu5g05.Utils.Element.create(i().Forms.SwitchSelector,{items:[{content:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.progressBar.stripedValueFalse}),value:!1},{
content:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.progressBar.stripedValueTrue}),value:!0}],value:o.props.striped,label:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.progressBar.stripedLabel}),
onChange:({value:s})=>{let i=t.map((e=>({id:e.id})));i[n].props||(i[n].props={}),i[n].props.striped=s,i[n].props.animated=!!s&&i[n].animated,e(i)}})
},P=({componentProps:e,onChangeProps:t})=>Uu5g05.Utils.Element.create(i().Common.Fragment,null,Uu5g05.Utils.Element.create(i().Forms.SwitchSelector,{items:[{content:Uu5g05.Utils.Element.create(r.Z,{
lsi:m.Z.line.verticalValueFalse}),value:!1},{content:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.line.verticalValueTrue}),value:!0}],value:!!e.vertical||"number"==typeof e.vertical,
label:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.line.verticalLabel}),onChange:({value:e})=>{t({vertical:e})}}),Uu5g05.Utils.Element.create(i().Forms.Number,{
value:"number"==typeof e.vertical?e.vertical:void 0,label:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.line.verticalHeightLabel}),disabled:!e.vertical&&"number"!=typeof e.vertical,valueType:"number",
min:1,suffix:"px",onChange:({value:e})=>{t({vertical:e})}})),y=({componentProps:e,onChangeProps:t})=>{let s=e.content?"content":"children";return Uu5g05.Utils.Element.create(i().Forms.Text,{
value:e[s],onBlur:({value:e})=>{t({[s]:e})},label:Uu5g05.Utils.Element.create(r.Z,{lsi:m.Z.common.contentLabel})})},L=(0,n.createComponent)({getInitialState(){let e=this.props.items.map((e=>{var t
;return{...e,props:{...e.props,name:null!==(t=e.props.name)&&void 0!==t?t:i().Common.Tools.generateUUID(8)}}}));return this.props.onChangeItems(e),{}},render:()=>null})},6022:(e,t,s)=>{s.r(t),s.d(t,{
TabsEditable:()=>b,default:()=>v});var n=s(4434),i=s.n(n),o=s(1195),l=s(5082),a=s(6765),r=s(664);const m=(e,t)=>e.header?e.header:`Item ${t+1}`,p=()=>({tagName:"UU5.Bricks.Tabs.Item",props:{
header:"New Item",name:i().Common.Tools.generateUUID(8),contentEditable:!0}}),c=(e,t)=>({tagName:"UU5.Bricks.Tabs.Item",props:{...t,name:i().Common.Tools.generateUUID(8)}}),u=[{name:"type",
type:"switchSelector",label:r.Z.tabs.typeLabel,getProps:()=>({items:[{value:"tabs",content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.typeValueTabs})},{value:"pills",
content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.typeValuePills})}]})},{name:"size",type:"switchSelector",label:r.Z.common.sizeLabel,getProps:()=>({items:[{value:"s",
content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.common.sizeValueS})},{value:"m",content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.common.sizeValueM})},{value:"l",
content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.common.sizeValueL})},{value:"xl",content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.common.sizeValueXL})}]})},{name:"borderRadius",
type:"text",label:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.borderRadiusLabel}),getProps:()=>({placeholder:i().Common.BaseMixin.getLsiItem(r.Z.tabs.borderRadiusPlaceholder)})},{
name:"elevation",type:"switchSelector",label:r.Z.tabs.elevationLabel,getProps:()=>({items:[{value:"0",content:"0"},{value:"1",content:"1"},{value:"2",content:"2"},{value:"3",content:"3"},{value:"4",
content:"4"},{value:"5",content:"5"}]})},{name:"elevationHover",type:"switchSelector",label:r.Z.tabs.elevationHoverLabel,getProps:()=>({items:[{value:"0",content:"0"},{value:"1",content:"1"},{
value:"2",content:"2"},{value:"3",content:"3"},{value:"4",content:"4"},{value:"5",content:"5"}]})},{name:"justified",type:"switchSelector",label:r.Z.tabs.justifiedLabel,getProps:()=>({items:[{
value:!1,content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.justifiedValueFalse})},{value:!0,content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.justifiedValueTrue})}]})},{
name:"fade",type:"switchSelector",label:r.Z.tabs.fadeLabel,getProps:()=>({items:[{value:!1,content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.fadeValueFalse})},{value:!0,
content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.fadeValueTrue})}]})},{name:"underline",type:"switchSelector",label:r.Z.tabs.underlineLabel,getProps:()=>({items:[{value:!1,
content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.underlineValueFalse})},{value:!0,content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.underlineValueTrue})}]})},a.xl],d=[{
name:"colorSchema",type:"colorSchema",label:r.Z.common.colorSchemaLabel},{name:"initialActiveName",type:"switchSelector",label:r.Z.tabs.initialActiveNameLabel,getProps:(e,t,s)=>{var n
;let i=s.map((e=>({content:e.props.header||e.props.name||e.props.id+"",value:e.props.name||e.props.id+""}))),o=s.some((t=>t.props.name===e.value||t.props.id===e.value));return{...e,items:i,
value:o?e.value:null===(n=i[0])||void 0===n?void 0:n.value}}},{name:"disabled",type:"switchSelector",label:r.Z.tabs.disabledLabel,getProps:()=>({items:[{value:!1,
content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.disabledValueFalse})},{value:!0,content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.disabledValueTrue})}]})},{
name:"mountTabContent",type:"switchSelector",label:r.Z.tabs.mountTabContentLabel,getProps:()=>({items:[{value:"onActive",content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{
lsi:r.Z.tabs.mountTabContentValueOnActive})},{value:"onFirstActive",content:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.mountTabContentValueOnFirstActive})}],
message:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.tabs.mountContentDescription})})}],g=[{name:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.common.componentPropsLabel}),setup:u},{
name:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{lsi:r.Z.common.advancedPropsLabel}),setup:d}],h={setup:[{name:"header",type:"text",label:Uu5g05.Utils.Element.create(i().Bricks.Lsi,{
lsi:r.Z.tabs.tabHeaderLabel}),required:!0,getProps:e=>{let t=e.value;return t&&"object"==typeof t&&(t=`<uu5string/>${i().Common.UU5String.contentToString(t)}`),{value:t,inputAttrs:{autoFocus:!0}}}}]
},b=i().Common.VisualComponent.create({mixins:[i().Common.BaseMixin],statics:{tagName:l.Z.name("TabsEditable"),classNames:{main:l.Z.css("tabs-editable")}},propTypes:{
component:i().PropTypes.object.isRequired},getDefaultProps:()=>({component:void 0}),getInitialState(){return{props:{
...this.props.component.getEditablePropsValues(Object.keys(this.props.component.props))}}},getPropsToSave(){return this._editModal?this._editModal.getPropsToSave():void 0},_registerEditModal(e){
this._editModal=e},_onCloseEditationModal(e){var t,s,n;let o=(null===(t=e)||void 0===t?void 0:t.initialActiveName)||(null===(s=this.state.props)||void 0===s?void 0:s.initialActiveName)
;if(null!==(n=e)&&void 0!==n&&n.children&&o){let t=i().Common.UU5String.toChildren(e.children);t.some((e=>e.props.name===o))||(e.initialActiveName=t[0].props.name)}e||(e={}),
this.props.component.endEditation({...e})},render(){return Uu5g05.Utils.Element.create(i().BricksEditable.Modal,{shown:!0,componentName:this.props.component.getTagName(),componentProps:{
...this.state.props,mountTabContent:this.state.props.mountTabContent||"onActive",activeName:this.props.activeName},onClose:this._onCloseEditationModal,itemName:o.Z.tagName,
itemDefaultProps:o.Z.defaultProps,ref_:this._registerEditModal,componentPropsForm:g,itemPropsForm:h,newItem:p,itemsSource:"children",getItemLabel:m,duplicateItem:c})}}),v=b}}]);