/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
"use strict";(this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks=this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks||[]).push([[597],{7597:(e,t,o)=>{o.r(t),o.d(t,{Blockquote:()=>u,default:()=>m})
;var n=o(4434),i=o(5082),r=o(2868),s=o(664),l=o(7143),a=o(9321),c=o(3490);const p={contentEditable:!1,colorSchema:"default",noSpacing:!1,alignment:"left",footerAlignment:"left",footer:"",content:null,
children:null,background:!1},g=i.Z.css("blockquote"),h=i.Z.name("Blockquote"),u=n.Common.VisualComponent.create({displayName:h,mixins:[n.Common.BaseMixin],statics:{tagName:h,classNames:{main:g,
checkbox:()=>l.Z.css("\n          cursor: pointer;\n          margin-top: 0px;\n          width: 100%;\n\n          &:hover {\n            background-color: #EEEEEE;\n          }\n\n          &:first-child {\n            margin-top: 4px;\n          }\n\n          &:last-child {\n            margin-bottom: 4px;\n          }\n\n          .uu5-forms-checkbox-button.uu5-forms-checkbox-button.uu5-forms-checkbox-button {\n            border-color: transparent;\n            background-color: transparent;\n            outline: none;\n          }\n\n          label {\n            cursor: pointer;\n          }\n\n          .uu5-forms-label {\n            width: 80%;\n\n            + .uu5-forms-input-wrapper {\n              width: 20%;\n            }\n          }\n        "),
footerAlignmentDropdown:()=>l.Z.css("\n          &.uu5-bricks-editable-toolbar-dropdown {\n            width: auto;\n\n            .uu5-bricks-button {\n              width: 32px;\n              height: 32px;\n              padding: 0;\n\n              .uu5-bricks-icon {\n                margin: 0;\n                font-size: 18px;\n              }\n\n              .uu5-bricks-icon:first-of-type {\n                margin-right: -2px;\n              }\n\n              .uu5-bricks-icon:last-of-type {\n                margin-left: -2px;\n              }\n            }\n          }\n        ")
},lsi:()=>({...s.Z.blockquote,...s.Z.common})},propTypes:{component:n.PropTypes.object.isRequired},getDefaultProps:()=>({component:null}),getInitialState(){this._defaultProps={...p}
;let e=this.props.component.getEditablePropsValues(Object.keys(this._defaultProps));return{...e,footerAlignment:e.footerAlignment||this._defaultProps.footerAlignment,background:e.background,
showFooter:!!e.footer}},getPropsToSave(){return this._getPropsToSave()},_onEndEditation(){this.props.component.endEditation(this._getPropsToSave())},_getPropsToSave(e=this.state){
let{showFooter:t,background:o,children:n,content:i,...r}=e;for(let e in p)void 0!==r[e]&&r[e]===p[e]&&(r[e]=void 0);return t||(r.footer=void 0),r},_registerSettingsForm(e){this._settingsForm=e},
_changeColorSchema(e){this.setState({colorSchema:e.value},(()=>{this.props.component.saveEditation({colorSchema:e.value&&"default"!==e.value?e.value:void 0})}))},_changeFooterAlignment(e){
this.setState({footerAlignment:e},(()=>{this.props.component.saveEditation({footerAlignment:e})}))},_toggleBackground(){this.setState((e=>({background:!e.background})),(()=>{
this.props.component.saveEditation({background:this.state.background})}))},_toggleFooter(){this.setState((e=>({showFooter:!e.showFooter})))},_toggleNoSpacing(){this.setState((e=>({
noSpacing:!e.noSpacing})),(()=>{this.props.component.saveEditation({noSpacing:this.state.noSpacing})}))},_changeFooterContent(e){this.setState({footer:e.value})},_getToolbarItems(){return[{type:a.Z,
props:()=>({value:this.state.colorSchema,onClick:this._changeColorSchema,tooltip:this.getLsiValue("colorSchemaTooltip")})}]},_getFooterToolbarItems(){return[{type:"dropdown",props:()=>{let e
;return"left"===this.state.footerAlignment?e="mdi-format-align-left":"right"===this.state.footerAlignment&&(e="mdi-format-align-right"),{label:Uu5g05.Utils.Element.create(r.Z,{icon:e}),
value:this.state.footerAlignment,items:[{content:this.getLsiValue("footerAlignmentLeft"),value:"left"},{content:this.getLsiValue("footerAlignmentRight"),value:"right"}],
onClick:this._changeFooterAlignment,className:this.getClassName("footerAlignmentDropdown")}}}]},_getToolbarSettings(){return[{value:this.state.background,onClick:this._toggleBackground,
label:this.getLsiComponent("backgroundCheckboxLabel")},{value:this.state.showFooter,onClick:this._toggleFooter,label:this.getLsiComponent("showFooterCheckboxLabel")},{value:this.state.noSpacing,
onClick:this._toggleNoSpacing,label:this.getLsiComponent("noSpacingTooltip")}]},_getToolbarProps(){let e=this.getMainPropsToPass();return e.onClose=this._onEndEditation,
e.items=this._getToolbarItems(),e.settingsItems=this._getToolbarSettings(),e},render(){
return Uu5g05.Utils.Element.create(n.BricksEditable.Toolbar,this._getToolbarProps(),[this.props.component.getChildren(),this.state.showFooter?Uu5g05.Utils.Element.create(n.BricksEditable.Input,{
value:this.state.footer||"",placeholder:this.getLsi("footerPlaceholder"),onChange:this._changeFooterContent,toolbarItems:this._getFooterToolbarItems(),key:"footerInput"
},(({children:e})=>Uu5g05.Utils.Element.create(c.Z,{alignment:this.state.footerAlignment,parent:this.props.component},e))):null])}}),m=u},9321:(e,t,o)=>{o.d(t,{Z:()=>u})
;var n=o(5032),i=o.n(n),r=o(4434),s=o(5082),l=o(7143),a=o(664);const c=function(e="grey",t=("black"===e?900:500)){let o=r.Environment.colors[e]||r.Environment.colors.grey;return o["c"+t]||o.c500
},p=e=>Uu5g05.Utils.Element.create("div",{title:e.title||e.colorSchema,
className:l.Z.css("\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n        ")+" "+l.Z.css(`\n          line-height: ${e.height};\n\n          div {\n            width: ${e.width};\n            height: ${e.height};\n          }\n        `),
onClick:()=>{"function"==typeof e.onClick&&e.onClick(e.colorSchema)}},Uu5g05.Utils.Element.create("div",{
className:l.Z.css("\n            margin: 4px;\n            box-sizing: border-box;\n          ")+" "+l.Z.css(`background-color: ${c(e.colorSchema,e.depth)}`)+" "+l.Z.css("border: "+("white"===e.colorSchema?"1px solid black":"none")),
title:e.colorSchema}),e.label);p.propTypes={label:r.PropTypes.string,depth:r.PropTypes.number,onClick:r.PropTypes.func,title:r.PropTypes.string,colorSchema:r.PropTypes.string,
height:r.PropTypes.string,width:r.PropTypes.string},p.defaultProps={width:"32px",height:"32px"}
;const g=p,h=["indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","red","pink","purple","deep-purple","brown","grey","blue-grey","black","white"],u=r.Common.VisualComponent.create({
mixins:[r.Common.BaseMixin],statics:{tagName:s.Z.name("ColorPicker"),classNames:{
main:()=>s.Z.css("color-picker")+" "+l.Z.css("\n        position: relative;\n\n        & > .uu5-bricks-icon.uu5-bricks-icon.uu5-bricks-icon.uu5-bricks-icon {\n          margin-right: -10px;\n          position: relative;\n          top: -2px;\n        }\n\n        & > div {\n          position: absolute;\n          bottom: -1px;\n          left: 0;\n        }\n      "),
popover:()=>l.Z.css(`\n        width: 300px;\n        color: ${r.Environment.colors.common.darkText};\n\n        .uu5-bricks-popover-body {\n          & > div:last-child {\n            justify-content: center;\n            max-width: 100%;\n          }\n        }\n      `)
},lsi:a.Z.colorPicker},propTypes:{value:r.PropTypes.string,onClick:r.PropTypes.func,colorSchema:r.PropTypes.string,bgStyle:r.PropTypes.oneOf(["filled","outline","transparent","underline","link"])},
getDefaultProps:()=>({value:void 0,onClick:void 0,colorSchema:void 0,bgStyle:void 0}),getInitialState:()=>({open:!1}),_registerPopover(e){this._popover=e},_onChange(e){this._togglePicker(void 0,(()=>{
"function"==typeof this.props.onClick&&this.props.onClick({component:this,value:e})}))},_togglePicker(e,t){this.setState((e=>({open:!e.open})),(()=>{this.state.open?this._popover.open({
aroundElement:e.findDOMNode(),position:"bottom",onClose:()=>this.setState({open:!1})}):this._popover.close(),"function"==typeof t&&t()}))},_getProps(){let e=this.getMainPropsToPass()
;return e.onClick=this._togglePicker,e.tooltip=this.getLsiValue("colorSchemaTooltip"),e.pressed=this.state.open,e.colorSchema=this.props.colorSchema,e.bgStyle=this.props.bgStyle,e},render(){
return[Uu5g05.Utils.Element.create(r.Bricks.Button,i()({},this._getProps(),{key:"button"}),Uu5g05.Utils.Element.create(r.Bricks.Icon,{icon:"mdi-palette",key:"icon"}),Uu5g05.Utils.Element.create(g,{
className:"color-viewer",colorSchema:this.props.value,width:"24px",height:"4px",key:"color-viewer"})),Uu5g05.Utils.Element.create(r.Bricks.Popover,{key:"color-schema-popover",
ref_:this._registerPopover,controlled:!1,className:this.getClassName("popover"),forceRender:!0},Uu5g05.Utils.Element.create(r.Bricks.Div,null,Uu5g05.Utils.Element.create(g,{colorSchema:"default",
onClick:this._onChange,label:this.getLsiValue("defaultColorSchema")})),Uu5g05.Utils.Element.create(r.Bricks.Div,{style:{display:"flex",flexWrap:"wrap"}},h.map((e=>Uu5g05.Utils.Element.create(g,{key:e,
colorSchema:e,onClick:this._onChange})))))]}})}}]);