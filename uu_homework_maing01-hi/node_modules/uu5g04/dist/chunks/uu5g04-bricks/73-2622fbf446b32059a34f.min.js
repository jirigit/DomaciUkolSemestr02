/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
"use strict";(this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks=this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks||[]).push([[73],{9321:(e,t,o)=>{o.d(t,{Z:()=>u})
;var i=o(5032),s=o.n(i),n=o(4434),l=o(5082),r=o(7143),a=o(664);const c=function(e="grey",t=("black"===e?900:500)){let o=n.Environment.colors[e]||n.Environment.colors.grey;return o["c"+t]||o.c500
},p=e=>Uu5g05.Utils.Element.create("div",{title:e.title||e.colorSchema,
className:r.Z.css("\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n        ")+" "+r.Z.css(`\n          line-height: ${e.height};\n\n          div {\n            width: ${e.width};\n            height: ${e.height};\n          }\n        `),
onClick:()=>{"function"==typeof e.onClick&&e.onClick(e.colorSchema)}},Uu5g05.Utils.Element.create("div",{
className:r.Z.css("\n            margin: 4px;\n            box-sizing: border-box;\n          ")+" "+r.Z.css(`background-color: ${c(e.colorSchema,e.depth)}`)+" "+r.Z.css("border: "+("white"===e.colorSchema?"1px solid black":"none")),
title:e.colorSchema}),e.label);p.propTypes={label:n.PropTypes.string,depth:n.PropTypes.number,onClick:n.PropTypes.func,title:n.PropTypes.string,colorSchema:n.PropTypes.string,
height:n.PropTypes.string,width:n.PropTypes.string},p.defaultProps={width:"32px",height:"32px"}
;const h=p,g=["indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","red","pink","purple","deep-purple","brown","grey","blue-grey","black","white"],u=n.Common.VisualComponent.create({
mixins:[n.Common.BaseMixin],statics:{tagName:l.Z.name("ColorPicker"),classNames:{
main:()=>l.Z.css("color-picker")+" "+r.Z.css("\n        position: relative;\n\n        & > .uu5-bricks-icon.uu5-bricks-icon.uu5-bricks-icon.uu5-bricks-icon {\n          margin-right: -10px;\n          position: relative;\n          top: -2px;\n        }\n\n        & > div {\n          position: absolute;\n          bottom: -1px;\n          left: 0;\n        }\n      "),
popover:()=>r.Z.css(`\n        width: 300px;\n        color: ${n.Environment.colors.common.darkText};\n\n        .uu5-bricks-popover-body {\n          & > div:last-child {\n            justify-content: center;\n            max-width: 100%;\n          }\n        }\n      `)
},lsi:a.Z.colorPicker},propTypes:{value:n.PropTypes.string,onClick:n.PropTypes.func,colorSchema:n.PropTypes.string,bgStyle:n.PropTypes.oneOf(["filled","outline","transparent","underline","link"])},
getDefaultProps:()=>({value:void 0,onClick:void 0,colorSchema:void 0,bgStyle:void 0}),getInitialState:()=>({open:!1}),_registerPopover(e){this._popover=e},_onChange(e){this._togglePicker(void 0,(()=>{
"function"==typeof this.props.onClick&&this.props.onClick({component:this,value:e})}))},_togglePicker(e,t){this.setState((e=>({open:!e.open})),(()=>{this.state.open?this._popover.open({
aroundElement:e.findDOMNode(),position:"bottom",onClose:()=>this.setState({open:!1})}):this._popover.close(),"function"==typeof t&&t()}))},_getProps(){let e=this.getMainPropsToPass()
;return e.onClick=this._togglePicker,e.tooltip=this.getLsiValue("colorSchemaTooltip"),e.pressed=this.state.open,e.colorSchema=this.props.colorSchema,e.bgStyle=this.props.bgStyle,e},render(){
return[Uu5g05.Utils.Element.create(n.Bricks.Button,s()({},this._getProps(),{key:"button"}),Uu5g05.Utils.Element.create(n.Bricks.Icon,{icon:"mdi-palette",key:"icon"}),Uu5g05.Utils.Element.create(h,{
className:"color-viewer",colorSchema:this.props.value,width:"24px",height:"4px",key:"color-viewer"})),Uu5g05.Utils.Element.create(n.Bricks.Popover,{key:"color-schema-popover",
ref_:this._registerPopover,controlled:!1,className:this.getClassName("popover"),forceRender:!0},Uu5g05.Utils.Element.create(n.Bricks.Div,null,Uu5g05.Utils.Element.create(h,{colorSchema:"default",
onClick:this._onChange,label:this.getLsiValue("defaultColorSchema")})),Uu5g05.Utils.Element.create(n.Bricks.Div,{style:{display:"flex",flexWrap:"wrap"}},g.map((e=>Uu5g05.Utils.Element.create(h,{key:e,
colorSchema:e,onClick:this._onChange})))))]}})},2073:(e,t,o)=>{o.r(t),o.d(t,{Section:()=>m,default:()=>v});var i=o(5032),s=o.n(i),n=o(4434),l=o(5082),r=o(8511),a=o(8069),c=o(7143),p=o(9321),h=o(664)
;const g={contentEditable:!1,underline:!1,level:null,header:"",footer:"",colorSchema:"default",content:null,children:null,pageBreakBefore:!1
},u=l.Z.css("section"),d=l.Z.name("Section"),m=n.Common.VisualComponent.create({mixins:[n.Common.BaseMixin],statics:{tagName:d,classNames:{main:u,
levelDropdown:()=>c.Z.css("\n          &.uu5-bricks-editable-toolbar-dropdown {\n            width: 148px;\n          }\n        ")},lsi:()=>({...h.Z.section,...h.Z.common})},propTypes:{
component:n.PropTypes.object.isRequired},getDefaultProps:()=>({component:null}),getInitialState(){let e=this.props.component.getEditablePropsValues(Object.keys(g));return{...e,showFooter:!!e.footer,
showHeader:!0}},getPropsToSave(){return this._getPropsToSave()},_onEndEditation(){this.props.component.endEditation(this._getPropsToSave())},_getPropsToSave(e=this.state){
let{showFooter:t,showHeader:o,children:i,content:s,...n}=e;for(let e in g)void 0!==n[e]&&n[e]===g[e]&&(n[e]=void 0);return o||(n.header=void 0),t||(n.footer=void 0),n},_changeColorSchema(e){
this.setState({colorSchema:e.value},(()=>{this.props.component.saveEditation({colorSchema:e.value&&"default"!==e.value?e.value:void 0})}))},_toggleHeader(e,t){this.setState((e=>({
showHeader:!e.showHeader})),t)},_toggleFooter(e,t){this.setState((e=>({showFooter:!e.showFooter})),t)},_togglePageBreakBefore(e,t){this.setState((e=>({pageBreakBefore:!e.pageBreakBefore})),t)},
_toggleUnderline(){this.setState((e=>({underline:!e.underline})))},_changeLevel(e,t){this.setState({level:e},t)},_changeHeaderContent(e){this.setState({header:e.value})},_changeFooterContent(e){
this.setState({footer:e.value})},_getHeaderToolbarItems(){let e=[1,2,3,4,5,6].map((e=>({content:`${this.getLsiValue("level")} ${e}`,value:`${e}`})));return e.unshift({
content:this.getLsiValue("defaultLevel"),value:null}),[{type:p.Z,props:()=>({value:this.state.colorSchema,onClick:this._changeColorSchema,tooltip:this.getLsiValue("colorSchemaTooltip")})},{
type:"button",props:()=>({pressed:this.state.underline,onClick:this._toggleUnderline,tooltip:this.getLsiValue("underlineTooltip"),icon:"mdi-format-underline"})},{type:"dropdown",props:()=>{
let t=this.state.level?`${this.getLsiValue("level")} ${this.state.level}`:`${this.getLsiValue("defaultLevel")}`;return{value:this.state.level,label:t,onClick:this._changeLevel,
tooltip:this.getLsiValue("levelTooltip"),items:e,className:this.getClassName("levelDropdown")}}}]},_getToolbarSettings(){return[{value:this.state.showHeader,onClick:this._toggleHeader,
label:this.getLsiComponent("showHeaderCheckboxLabel")},{value:this.state.showFooter,onClick:this._toggleFooter,label:this.getLsiComponent("showFooterCheckboxLabel")},{value:this.state.pageBreakBefore,
onClick:this._togglePageBreakBefore,label:this.getLsiComponent("pageBreakBeforeCheckboxLabel")}]},render(){const e=this.getMainPropsToPass()
;return Uu5g05.Utils.Element.create(n.BricksEditable.Toolbar,s()({},e,{onClose:this._onEndEditation,settingsItems:this._getToolbarSettings()
}),[this.state.showHeader?Uu5g05.Utils.Element.create(n.BricksEditable.Input,{value:this.state.header||"",placeholder:this.getLsi("headerPlaceholder"),onChange:this._changeHeaderContent,
toolbarItems:this._getHeaderToolbarItems(),key:"headerInput"},(({children:e})=>Uu5g05.Utils.Element.create(a.Z,{underline:this.state.underline,level:this.state.level,
parent:this.props.inline?void 0:this.props.component,nestingLevel:void 0},e))):null,this.props.component.getChildren(),this.state.showFooter?Uu5g05.Utils.Element.create(n.BricksEditable.Input,{
value:this.state.footer||"",placeholder:this.getLsi("footerPlaceholder"),onChange:this._changeFooterContent,key:"footerInput"},(({children:e})=>Uu5g05.Utils.Element.create(r.Z,{
parent:this.props.component},e))):null])}}),v=m}}]);