/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
"use strict";(this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks=this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks||[]).push([[833],{5833:(e,t,o)=>{o.r(t),o.d(t,{Column:()=>g,default:()=>m})
;var n=o(4434),s=o(5082),l=o(8511),i=o(8069),a=o(967),r=o(664),c=o(7143);const d={contentEditable:!1,noSpacing:!1,underline:!1,level:null,colWidth:"",width:"",header:"",footer:"",content:null,
children:null},h=s.Z.css("column"),u=s.Z.name("Column");const p=[{name:"Properties",setup:[{name:"colWidth",type:"text",label:r.Z.column.colWidthLabel,getProps:e=>{return{value:(t=e.value,
t&&"object"==typeof t?n.Common.Tools.buildColWidthClassName(t).replace(/uu5-col-/g,"").replace(/xs|s|m|l|xl/g,(e=>`${e}-`)):t),message:Uu5g05.Utils.Element.create(a.Z,{lsi:r.Z.column.colWidthTooltip
}),onChange:({value:e,component:t})=>{t.setFeedback("initial",Uu5g05.Utils.Element.create(a.Z,{lsi:r.Z.column.colWidthTooltip}),e)}};var t}},{name:"noSpacing",type:"switchSelector",
label:r.Z.column.horizontalPaddingLabel,getProps:()=>({items:[{value:!1,content:Uu5g05.Utils.Element.create(a.Z,{lsi:r.Z.column.horizontalPaddingValueStandard})},{value:!0,
content:Uu5g05.Utils.Element.create(a.Z,{lsi:r.Z.column.horizontalPaddingValueNone})}]})},{name:"className",type:"text",label:Uu5g05.Utils.Element.create(a.Z,{lsi:r.Z.column.classNameLabel})}]
}],g=n.Common.VisualComponent.create({mixins:[n.Common.BaseMixin],statics:{tagName:u,classNames:{main:h,
checkbox:()=>c.Z.css("\n          cursor: pointer;\n          margin-top: 0px;\n          width: 100%;\n\n          &:hover {\n            background-color: #EEEEEE;\n          }\n\n          &:first-child {\n            margin-top: 4px;\n          }\n\n          .uu5-forms-checkbox-button.uu5-forms-checkbox-button.uu5-forms-checkbox-button {\n            border-color: transparent;\n            background-color: transparent;\n            outline: none;\n          }\n\n          label {\n            cursor: pointer;\n          }\n\n          .uu5-forms-label {\n            width: 80%;\n\n            + .uu5-forms-input-wrapper {\n              width: 20%;\n            }\n          }\n        "),
separator:()=>c.Z.css("\n          margin: 0;\n          width: 100%;\n        "),
settings:()=>c.Z.css("\n          &.uu5-bricks-button {\n            background-color: transparent;\n            width: 100%;\n            text-align: left;\n            margin-bottom: 4px;\n\n            &:hover {\n              background-color: #EEEEEE;\n            }\n          }\n        "),
settingsModal:()=>c.Z.css("\n          .uu5-bricks-modal-header {\n            font-size: 18px;\n            color: #303030;\n            border-bottom: solid 1px #BDBDBD;\n          }\n\n          .uu5-bricks-modal-footer {\n            padding: 0;\n            border-top: solid 1px #BDBDBD;\n          }\n\n          .uu5-bricks-modal-body {\n            padding: 0;\n          }\n        "),
settingsForm:()=>c.Z.css("\n          &:last-child {\n            margin-bottom: 24px;\n          }\n        ")},lsi:()=>({...r.Z.column,...r.Z.common}),defaults:{colWidthRegexp:/([a-z])+(?:-)?(\d+)/}
},propTypes:{component:n.PropTypes.object.isRequired},getDefaultProps:()=>({component:null}),getInitialState(){let e=this.props.component.getEditablePropsValues(Object.keys(d))
;return e.width=e.width||"",e.colWidth=e.colWidth||"",{...e,showFooter:!!e.footer,showHeader:!!e.header,editModalOpen:!1}},getPropsToSave(){return this._getPropsToSave()},_onEndEditation(){
this.props.component.endEditation(this._getPropsToSave())},_getPropsToSave(e=this.state){let{showFooter:t,showHeader:o,editModalOpen:n,children:s,content:l,...i}=e
;for(let e in d)void 0!==i[e]&&i[e]===d[e]&&(i[e]=void 0);return o||(i.header=void 0),t||(i.footer=void 0),i},_onCloseEditationModal(e){if(e){let t={...e};delete t.children,delete t.content,
this.setState({...t,editModalOpen:!1},(()=>this.props.component.saveEditation(e)))}else this.setState({editModalOpen:!1})},_openEditModal(){this.props.component.endChildrenEditation(),this.setState({
editModalOpen:!0})},_closeEditModal(){this.setState({editModalOpen:!1})},_registerSettingsForm(e){this._settingsForm=e},_registerToolbar(e){this._toolbar=e},_toggleHeader(){this.setState((e=>({
showHeader:!e.showHeader})))},_toggleFooter(){this.setState((e=>({showFooter:!e.showFooter})))},_toggleUnderline(){this.setState((e=>({underline:!e.underline})))},_toggleNoSpacing(){
this.setState((e=>({noSpacing:!e.noSpacing})),(()=>{this.props.component.saveEditation({noSpacing:this.state.noSpacing})}))},_changeLevel(e){this.setState({level:e})},_changeHeaderContent(e){
this.setState({header:e.value})},_changeFooterContent(e){this.setState({footer:e.value})},_saveSettings(e){e.values.width.match(this.getDefault("colWidthRegexp"))?(e.values.colWidth=e.values.width,
e.values.width=null):e.values.colWidth=null,this.setState({...e.values},(()=>this.props.component.saveEditation({...e.values})))},_cancelSettings(){this._toolbar.closeMoreSettings()},
_getControlsForm(){return this._settingsForm},_getSettingsFormControls(){return Uu5g05.Utils.Element.create(n.Forms.Controls,{getForm:this._getControlsForm,buttonCancelProps:{
content:this.getLsiComponent("controlsCancelButton")},buttonSubmitProps:{content:this.getLsiComponent("controlsSubmitButton")}})},_getHeaderToolbarItems(){let e=[1,2,3,4,5,6].map((e=>({
content:`${this.getLsiValue("level")} ${e}`,value:`${e}`})));return e.unshift({content:this.getLsiValue("defaultLevel"),value:null}),[{type:"button",props:()=>({onClick:this._toggleUnderline,
tooltip:this.getLsiValue("underlineTooltip"),icon:"mdi-format-underline",pressed:this.state.underline})},{type:"dropdown",props:()=>{
let t=this.state.level?`${this.getLsiValue("level")} ${this.state.level}`:`${this.getLsiValue("defaultLevel")}`;return{onClick:this._changeLevel,value:this.state.level,label:t,
tooltip:this.getLsiValue("levelTooltip"),items:e}}}]},_getToolbarSettings(){return[{value:this.state.showHeader,onClick:this._toggleHeader,label:this.getLsiComponent("showHeaderCheckboxLabel")},{
value:this.state.showFooter,onClick:this._toggleFooter,label:this.getLsiComponent("showFooterCheckboxLabel")},{value:this.state.noSpacing,onClick:this._toggleNoSpacing,
label:this.getLsiComponent("noSpacingTooltip")}]},_getToolbarProps(){let e=this.getMainPropsToPass();return e.onClose=this._onEndEditation,e.onMoreSettingsClick=this._openEditModal,
e.settingsItems=this._getToolbarSettings(),e.ref_=this._registerToolbar,e},_renderEditModal(){return Uu5g05.Utils.Element.create(n.Common.Suspense,{fallback:""
},Uu5g05.Utils.Element.create(n.BricksEditable.Modal,{shown:!0,componentProps:this.props.component.getEditablePropsValues(Object.keys(this.props.component.props)),onClose:this._onCloseEditationModal,
componentName:this.props.component.getTagName(),componentPropsForm:p}))},render(){
return Uu5g05.Utils.Element.create(Uu5g05.Fragment,null,Uu5g05.Utils.Element.create(n.BricksEditable.Toolbar,this._getToolbarProps(),[this.state.showHeader?Uu5g05.Utils.Element.create(n.BricksEditable.Input,{
value:this.state.header||"",placeholder:this.getLsi("headerPlaceholder"),onChange:this._changeHeaderContent,toolbarItems:this._getHeaderToolbarItems(),key:"headerInput"
},(({children:e})=>Uu5g05.Utils.Element.create(i.Z,{underline:this.state.underline,level:this.state.level,parent:this.props.component
},e))):null,this.props.component.getChildren(),this.state.showFooter?Uu5g05.Utils.Element.create(n.BricksEditable.Input,{value:this.state.footer||"",placeholder:this.getLsi("footerPlaceholder"),
onChange:this._changeFooterContent,key:"footerInput"},(({children:e})=>Uu5g05.Utils.Element.create(l.Z,{parent:this.props.component},e))):null]),this.state.editModalOpen?this._renderEditModal():null)}
}),m=g}}]);