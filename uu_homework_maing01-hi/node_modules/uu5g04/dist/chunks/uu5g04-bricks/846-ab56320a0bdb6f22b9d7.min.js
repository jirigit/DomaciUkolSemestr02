/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
"use strict";(this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks=this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks||[]).push([[846],{2846:(e,o,t)=>{t.r(o),t.d(o,{Block:()=>g,default:()=>m})
;var n=t(5032),i=t.n(n),r=t(4434),s=t(5082),l=t(664),c=t(7143),a=t(9321);const p={contentEditable:!1,colorSchema:"default",content:null,children:null,background:!1
},u=s.Z.css("block"),h=s.Z.name("Block"),g=r.Common.VisualComponent.create({displayName:h,mixins:[r.Common.BaseMixin],statics:{tagName:h,classNames:{main:u,
checkbox:()=>c.Z.css("\n          cursor: pointer;\n          margin-top: 0px;\n          width: 100%;\n\n          &:hover {\n            background-color: #EEEEEE;\n          }\n\n          &:first-child {\n            margin-top: 4px;\n          }\n\n          &:last-child {\n            margin-bottom: 4px;\n          }\n\n          .uu5-forms-checkbox-button.uu5-forms-checkbox-button.uu5-forms-checkbox-button {\n            border-color: transparent;\n            background-color: transparent;\n            outline: none;\n          }\n\n          label {\n            cursor: pointer;\n          }\n\n          .uu5-forms-label {\n            width: 80%;\n\n            + .uu5-forms-input-wrapper {\n              width: 20%;\n            }\n          }\n        ")
},lsi:()=>({...l.Z.block,...l.Z.common})},propTypes:{component:r.PropTypes.object.isRequired},getDefaultProps:()=>({component:null}),getInitialState(){this._defaultProps={...p}
;let e=this.props.component.getEditablePropsValues(Object.keys(this._defaultProps));return{...e,background:e.background}},getPropsToSave(){return this._getPropsToSave()},_onEndEditation(){
this.props.component.endEditation(this._getPropsToSave())},_getPropsToSave(e=this.state){let{background:o,children:t,content:n,...i}=e;for(let e in p)void 0!==i[e]&&i[e]===p[e]&&(i[e]=void 0);return i
},_changeColorSchema(e){this.setState({colorSchema:e.value},(()=>{this.props.component.saveEditation({colorSchema:e.value&&"default"!==e.value?e.value:void 0})}))},_toggleBackground(){
this.setState((e=>({background:!e.background})),(()=>{this.props.component.saveEditation({background:this.state.background})}))},_getToolbarItems(){return[{type:a.Z,props:()=>({
value:this.state.colorSchema,onClick:this._changeColorSchema,tooltip:this.getLsiValue("colorSchemaTooltip")})}]},_getToolbarSettings(){return[{value:this.state.background,
onClick:this._toggleBackground,label:this.getLsiComponent("backgroundCheckboxLabel")}]},render(){return Uu5g05.Utils.Element.create(r.BricksEditable.Toolbar,i()({},this.getMainPropsToPass(),{
onClose:this._onEndEditation,items:this._getToolbarItems(),settingsItems:this._getToolbarSettings()}),this.props.component.getChildren())}}),m=g},9321:(e,o,t)=>{t.d(o,{Z:()=>g})
;var n=t(5032),i=t.n(n),r=t(4434),s=t(5082),l=t(7143),c=t(664);const a=function(e="grey",o=("black"===e?900:500)){let t=r.Environment.colors[e]||r.Environment.colors.grey;return t["c"+o]||t.c500
},p=e=>Uu5g05.Utils.Element.create("div",{title:e.title||e.colorSchema,
className:l.Z.css("\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n        ")+" "+l.Z.css(`\n          line-height: ${e.height};\n\n          div {\n            width: ${e.width};\n            height: ${e.height};\n          }\n        `),
onClick:()=>{"function"==typeof e.onClick&&e.onClick(e.colorSchema)}},Uu5g05.Utils.Element.create("div",{
className:l.Z.css("\n            margin: 4px;\n            box-sizing: border-box;\n          ")+" "+l.Z.css(`background-color: ${a(e.colorSchema,e.depth)}`)+" "+l.Z.css("border: "+("white"===e.colorSchema?"1px solid black":"none")),
title:e.colorSchema}),e.label);p.propTypes={label:r.PropTypes.string,depth:r.PropTypes.number,onClick:r.PropTypes.func,title:r.PropTypes.string,colorSchema:r.PropTypes.string,
height:r.PropTypes.string,width:r.PropTypes.string},p.defaultProps={width:"32px",height:"32px"}
;const u=p,h=["indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","red","pink","purple","deep-purple","brown","grey","blue-grey","black","white"],g=r.Common.VisualComponent.create({
mixins:[r.Common.BaseMixin],statics:{tagName:s.Z.name("ColorPicker"),classNames:{
main:()=>s.Z.css("color-picker")+" "+l.Z.css("\n        position: relative;\n\n        & > .uu5-bricks-icon.uu5-bricks-icon.uu5-bricks-icon.uu5-bricks-icon {\n          margin-right: -10px;\n          position: relative;\n          top: -2px;\n        }\n\n        & > div {\n          position: absolute;\n          bottom: -1px;\n          left: 0;\n        }\n      "),
popover:()=>l.Z.css(`\n        width: 300px;\n        color: ${r.Environment.colors.common.darkText};\n\n        .uu5-bricks-popover-body {\n          & > div:last-child {\n            justify-content: center;\n            max-width: 100%;\n          }\n        }\n      `)
},lsi:c.Z.colorPicker},propTypes:{value:r.PropTypes.string,onClick:r.PropTypes.func,colorSchema:r.PropTypes.string,bgStyle:r.PropTypes.oneOf(["filled","outline","transparent","underline","link"])},
getDefaultProps:()=>({value:void 0,onClick:void 0,colorSchema:void 0,bgStyle:void 0}),getInitialState:()=>({open:!1}),_registerPopover(e){this._popover=e},_onChange(e){this._togglePicker(void 0,(()=>{
"function"==typeof this.props.onClick&&this.props.onClick({component:this,value:e})}))},_togglePicker(e,o){this.setState((e=>({open:!e.open})),(()=>{this.state.open?this._popover.open({
aroundElement:e.findDOMNode(),position:"bottom",onClose:()=>this.setState({open:!1})}):this._popover.close(),"function"==typeof o&&o()}))},_getProps(){let e=this.getMainPropsToPass()
;return e.onClick=this._togglePicker,e.tooltip=this.getLsiValue("colorSchemaTooltip"),e.pressed=this.state.open,e.colorSchema=this.props.colorSchema,e.bgStyle=this.props.bgStyle,e},render(){
return[Uu5g05.Utils.Element.create(r.Bricks.Button,i()({},this._getProps(),{key:"button"}),Uu5g05.Utils.Element.create(r.Bricks.Icon,{icon:"mdi-palette",key:"icon"}),Uu5g05.Utils.Element.create(u,{
className:"color-viewer",colorSchema:this.props.value,width:"24px",height:"4px",key:"color-viewer"})),Uu5g05.Utils.Element.create(r.Bricks.Popover,{key:"color-schema-popover",
ref_:this._registerPopover,controlled:!1,className:this.getClassName("popover"),forceRender:!0},Uu5g05.Utils.Element.create(r.Bricks.Div,null,Uu5g05.Utils.Element.create(u,{colorSchema:"default",
onClick:this._onChange,label:this.getLsiValue("defaultColorSchema")})),Uu5g05.Utils.Element.create(r.Bricks.Div,{style:{display:"flex",flexWrap:"wrap"}},h.map((e=>Uu5g05.Utils.Element.create(u,{key:e,
colorSchema:e,onClick:this._onChange})))))]}})}}]);