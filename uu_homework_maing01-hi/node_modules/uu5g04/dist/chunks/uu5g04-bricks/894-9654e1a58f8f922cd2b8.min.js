/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
"use strict";(this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks=this.__webpack_jsonp_uu5g04_1_58_8_uu5g04_bricks||[]).push([[894],{1894:(e,t,n)=>{n.r(t),n.d(t,{PanelEditable:()=>E,default:()=>Z})
;var a=n(5032),l=n.n(a),o=n(4434),i=n(5082),s=n(967),p=n(7143),c=n(664);let r,m,d=e=>e;const u={header:null,mountContent:void 0},h=[{name:"size",type:"switchSelector",label:c.Z.common.sizeLabel,
getProps:()=>({items:[{value:"s",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.common.sizeValueS})},{value:"m",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.common.sizeValueM})},{value:"l",
content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.common.sizeValueL})},{value:"xl",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.common.sizeValueXL})}]})},[{name:"iconExpanded",type:"iconPicker",
label:c.Z.panel.iconExpandedLabel},{name:"iconCollapsed",type:"iconPicker",label:c.Z.panel.iconCollapsedLabel}],{name:"iconAlign",type:"switchSelector",label:c.Z.panel.iconAlignLabel,
getProps:(e,t)=>({disabled:!(t.iconExpanded&&t.iconCollapsed),items:[{value:"left",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.iconAlignValueLeft})},{value:"right",
content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.iconAlignValueRight})},{value:"after",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.iconAlignValueAfter})}]})},[{name:"expanded",
type:"bool",label:c.Z.panel.expandedLabel},{name:"alwaysExpanded",type:"bool",label:c.Z.panel.alwaysExpandedLabel}]],g=[{name:"colorSchemaHeader",type:"colorSchema",
label:c.Z.panel.colorSchemaHeaderLabel},{name:"colorSchemaContent",type:"colorSchema",label:c.Z.panel.colorSchemaContentLabel},{name:"elevation",type:"switchSelector",label:c.Z.common.elevationLabel,
getProps:()=>({items:[{value:0},{value:1},{value:2},{value:3},{value:4},{value:5}]})},{name:"borderRadius"},{name:"bgStyleHeader",type:"bgStyle",label:c.Z.panel.bgStyleHeaderLabel},{
name:"bgStyleContent",type:"bgStyle",label:c.Z.panel.bgStyleContentLabel},{name:"openClick",type:"switchSelector",label:c.Z.panel.openClickLabel,getProps:({value:e})=>({value:e||"header",items:[{
value:"header",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.openClickValueHeader})},{value:"icon",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.openClickValueIcon})}]})},{
name:"mountContent",type:"switchSelector",label:c.Z.panel.mountContentLabel,getProps:()=>({items:[{value:"onEachExpand",content:Uu5g05.Utils.Element.create(s.Z,{
lsi:c.Z.panel.mountContentValueOnEachExpand})},{value:"onFirstExpand",content:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.mountContentValueOnFirstExpand})}],
message:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.mountContentDescription})})}],b=[{name:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.common.componentPropsLabel}),setup:h},{
name:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.common.displayPropsLabel}),setup:g}],E=o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin],statics:{tagName:i.Z.name("PanelEditable"),
classNames:{main:"panel-editable",switchSelector:p.Z.css(r||(r=d`
        margin: -4px 0;
      `)),panel:p.Z.css(m||(m=d`
        .uu5-bricks-panel-header-content {
          width: 100%;
        }
      `))},lsi:()=>({...c.Z.panel,...c.Z.common})},propTypes:{component:o.PropTypes.object.isRequired},getDefaultProps:()=>({component:null}),getInitialState(){
let e=this.props.component.getEditablePropsValues(Object.keys(u));return{...e,mountContent:e.mountContent||"onEachExpand",editationModalOpen:!1}},getPropsToSave(){return this._getPropsToSave()},
_onEndEditation(){this.props.component.endEditation(this._getPropsToSave())},_getPropsToSave(e=this.state){let{editationModalOpen:t,...n}=e;for(let e in u)void 0!==n[e]&&n[e]===u[e]&&(n[e]=void 0)
;return n},_onChangeRenderedItem({value:e}){this.setState({activeItemIndex:e})},_onCloseEditationModal(e){if(e){let t={...e};delete t.children,delete t.content,this.setState({...t,
editationModalOpen:!1},(()=>this.props.component.saveEditation(e)))}else this.setState({editationModalOpen:!1})},_onSettingsClick(){this.props.component.endChildrenEditation(),this.setState((e=>({
editationModalOpen:!e.editationModalOpen})))},_renderMoreSettingsModal(){return Uu5g05.Utils.Element.create(o.BricksEditable.Modal,{componentName:this.props.component.getTagName(),componentProps:{
...this.props.component.getEditablePropsValues(Object.keys(this.props.component.props)),mountContent:this.state.mountContent},componentPropsForm:b,shown:this.state.editationModalOpen,
onClose:this._onCloseEditationModal,header:Uu5g05.Utils.Element.create(s.Z,{lsi:c.Z.panel.modalHeader})})},_changeHeaderContent(e){this.setState({header:e.value})},render(){
let e=(this.state.className?this.state.className+" ":"")+this.getClassName("panel"),{ref_:t,...n}=this.props.component.props
;return Uu5g05.Utils.Element.create(Uu5g05.Fragment,null,Uu5g05.Utils.Element.create(o.BricksEditable.Toolbar,l()({},this.getMainPropsToPass(),{onClose:this._onEndEditation,
onMoreSettingsClick:this._onSettingsClick}),[Uu5g05.Utils.Element.create(o.Bricks.Panel,l()({},n,{editMode:!1,className:e,key:"editablePanel",expanded:!0,
header:Uu5g05.Utils.Element.create(o.BricksEditable.Input,{value:this.state.header||"",placeholder:this.getLsi("headerPlaceholder"),onChange:this._changeHeaderContent,key:"headerInput",mainAttrs:{
onClick:e=>e.stopPropagation()}},(({children:e})=>e))}),this.props.component.getChildren())]),this.state.editationModalOpen?this._renderMoreSettingsModal():null)}}),Z=E}}]);