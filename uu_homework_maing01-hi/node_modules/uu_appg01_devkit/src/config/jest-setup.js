// don't show warning about requestAnimationFrame
// NOTE This must be before any other "require" statements.
// https://reactjs.org/blog/2017/09/26/react-v16.0.html#javascript-environment-requirements
global.requestAnimationFrame = function (callback) {
  return setTimeout(callback, 0);
};
global.cancelAnimationFrame = function (id) {
  return clearTimeout(id);
};

// jsdom 20.x doesn't export these yet to window, even if NodeJS has them
// https://github.com/jsdom/jsdom/issues/2524
if (typeof TextEncoder === "undefined") {
  const { TextEncoder, TextDecoder } = require("util");
  Object.assign(global, { TextEncoder, TextDecoder });
}

// add mocking of localStorage
require("jest-localstorage-mock");
